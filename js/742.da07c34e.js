"use strict";(self["webpackChunkstarpre"]=self["webpackChunkstarpre"]||[]).push([[742],{9742:function(e,a,t){t.r(a),t.d(a,{default:function(){return _}});var s=t(3396),r=t(4870),o=t(9242),l=t(7139),c=t(940),n=t(7387),u=t.n(n),i=t(4548);const p=e=>((0,s.dD)("data-v-4055bc81"),e=e(),(0,s.Cn)(),e),d={class:"user"},g={class:"user-img"},v={class:"user-avatar"},m={class:"user-name"},h=p((()=>(0,s._)("div",{class:"user-main"},null,-1)));var k={__name:"UserView",setup(e){const a=i.Z.currentRoute.value.params.account,t=(0,r.iH)(""),n=(0,r.iH)(""),p=localStorage.getItem("account"),k=(0,r.iH)(!1),f=()=>{u().ajax({url:"http://localhost:3010/User/info",type:"get",data:{account:a},success(e){"success"==e.error_message?(t.value=e.photo,n.value=e.username):console.log(e.error_message)},error(e){console.log(e)}})};f();const U=(e,a)=>{let t=e.target.files[0],s=new FormData;s.append("file",t),s.append("type",a),u().ajax({url:"http://localhost:3010/User/upload",type:"post",headers:{Authorization:"Bearer "+c.Z.state.user.token},data:s,processData:!1,contentType:!1,success(e){console.log(e),i.Z.go(0)},error(e){console.log(e)}})},_=()=>{const e=u()("#background");e.click()};return(e,u)=>{const i=(0,s.up)("el-image"),f=(0,s.up)("el-button"),b=(0,s.up)("el-avatar"),y=(0,s.up)("el-text");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",g,[(0,s.Wm)(i,{class:"user-back",src:"http://localhost:3010/User/"+(0,r.SU)(a)+"/background",fit:"cover"},null,8,["src"]),(0,s._)("input",{id:"background",type:"file",accept:"image/*",style:{display:"none"},onChange:u[0]||(u[0]=e=>U(e,"background"))},null,32),(0,s.wy)((0,s.Wm)(f,{class:"img-button",round:"",onClick:_},{default:(0,s.w5)((()=>[(0,s.Uk)(" 更改壁纸 ")])),_:1},512),[[o.F8,(0,r.SU)(p)===(0,r.SU)(a)]])]),(0,s._)("div",v,[(0,s.wy)((0,s._)("input",{type:"file",accept:"image/*",class:"avatar-input",onChange:u[1]||(u[1]=e=>U(e,"avatar")),style:(0,l.j5)("background-image:url("+(0,r.SU)(c.Z).state.user.photo+")")},null,36),[[o.F8,(0,r.SU)(p)===(0,r.SU)(a)]]),(0,s.wy)((0,s.Wm)(b,{size:100,src:t.value,onClick:u[2]||(u[2]=e=>k.value=!0)},null,8,["src"]),[[o.F8,(0,r.SU)(p)!==(0,r.SU)(a)]]),(0,s._)("div",m,[(0,s.Wm)(y,{style:{"font-size":"25px","font-weight":"bold"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(n.value),1)])),_:1})])]),h])}}},f=t(89);const U=(0,f.Z)(k,[["__scopeId","data-v-4055bc81"]]);var _=U}}]);
//# sourceMappingURL=742.da07c34e.js.map